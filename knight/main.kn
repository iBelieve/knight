; -*- mode: Clojure -*-

(def fs (js/require "fs"))
(def escodegen (js/require "escodegen"))

(let [text (.readFileSync fs 0 "utf-8"),
      forms (string->exprs text)
      ast (emit-module forms),
      output (.generate escodegen ast)]
  (println output))
